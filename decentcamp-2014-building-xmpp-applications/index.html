---
layout: slides
title: 'Building applications using XMPP'
description: 'Introduction to XMPP and how you can use it to build decentralised applications on the web'
theme: moon
---

<div class="slides">
    <section name="title">
        <div>
        <img src="./images/220px-XMPP_logo.svg.png" />
        <h1>Introduction to XMPP</h1>
        <h2>...how you can use it to build decentralised applications on the web</h2>
        </div>
    </section>
    
    <section name="who-am-i">
        <h2 class="icon-male fa"> Lloyd Watkin</h2>
        <p class="icon-briefcase fa"> Work for <a href="http://surevine.com">Surevine</a></p>
        <p class="icon-group fa"> Member of the <a href="http://xmpp.org" title="XMPP Standards Foundation">XSF</a> + editorial team</p>
        <p class="icon-envelope fa"> <span class="icon-comment-alt fa inline"></span> <a href="xmpp:lloyd@evilprofessor.co.uk">lloyd@evilprofessor.co.uk</a></p>
        <p class="icon-twitter fa"> <a href="https://twitter.com/lloydwatkin">@lloydwatkin</a></p>
        <p  class="icon-github fa"> <a href="https://github.com/lloydwatkin">lloydwatkin</a></p>
        <p class="">Creator/lead on:<br/><a href="https://pinitto.me">pinitto.me</a>, <a href="https://xmpp-ftw.jit.su">XMPP-FTW</a>, <a href="http://node-xmpp.github.io">node-xmpp</a>, <a href="http://buddycloud.org">buddycloud server</a></p>
    </section>
    
    <section>
    
        <section name="what-is-xmpp">

           <h1>What is XMPP?</h1>
           <br/>
           <p class="xmpp-orange">e<em>X</em>tensible <em>M</em>essaging and <em>P</em>resence <em>P</em>rotocol<br/>(aka Jabber)</p>

           <p class="xmpp-blue">Started around 1998</p>
           <p class="xmpp-green">Became part of IETF in 2002</p>
           <aside class="notes">
               <p>Started in 1998 in a time of AOL IM, ICQ, Yahoo messenger</p>
               <p>Needed several accounts to talk to your friends</p>
               <p>Set of open standards documented for all to use</p>
               <p>Becoming part of the IETF means its been highly scrutinised</p>
           </aside>

        </section>
        
        <section>
            <h2>Does anyone use it?</h2>
            
            <ul>
                <li>Google: <del>talk/hangouts</del>, GCM</li>
                <li>Facebook: Chat interface</li>
                <li>Whatsapp: Hacked version</li>
                <li>Atlassian: HipChat</li>
            </ul>
            <br/><br/>
            <h3 class="xmpp-green">Its usage is often not advertised</h3>
            <aside class="notes">
            banking, secure messaging systems for military, governments, insurance, etc
            </aside>
        </section>
        
        <section>
            <h1>What is it used for?</h1>
            <br/>
            <h1>"X"</h1>
            <aside class="notes">
            Chat, social networks (buddycloud), M2M, pubsub, IOT, building management, signalling in WebRTC
            </aside>
        </section>
        
        <section>
            <h1><span class="xmpp-orange">Why are you talking</span><br/><span class="xmpp-blue">about a crusty old</span><br/><span class="xmpp-green">protocol?</span></h1>
            <aside class="notes">
            <p>Privacy/security is becoming more important to the mainstream</p>
            <p>One of the ways to control this is through decentralisation</p>
            <p>realtime becoming more important</p>
            <p>We've been doing this for many years, lots of experience, learned from mistakes</p>
            <p></p>
            </aside>
        </section>
        
    </section>
    
    <section name="fundamentals">
        
        <section name="fundamentals-title>">
        <h1>Fundamentals</h1>
        </section>
        
        <section name="fundamental-stanzas">
        <h1 class="xmpp-blue">Stanzas</h1>
        <h3 class="xmpp-green">...are snippets of XML</h3>
        <br/>
        <p class="xmpp-orange">There are three types:<br/>
            &lt;message/&gt;, &lt;presence/&gt;, &amp; &lt;iq/&gt;</p>
        <aside class="notes">
           <p>XML streams eventually form a valid XML document</p>
           <p>Message types, 'chat', 'groupchat', 'headline'</p>
           <p>Presence - like your online status (online, busy, away, etc)</p>
           <p>IQ (information query): GET/SET,  RESULT/ERROR - like basic HTTP verbs</p>
       </aside>
        </section>

         <section>
            <h2>The <abbr title="Jabber ID">JID</abbr></h2>
            <br/>
            <h3>[<span class="xmpp-orange">user</span>@] <span class="xmpp-blue">example.org</span> [/<span class="xmpp-green">mobile-phone</span>]</h3>
            <br/>
            
            <ul>
                <li><span class="xmpp-orange">local</span>: The user/device (i.e. client)</li>
                <li><span class="xmpp-blue">domain</span>: Server you are addressing</li>
                <li><span class="xmpp-green">resource</span>: Multiple connections?</li>
            </ul>
            <aside class="notes">
            <p>Always designed with multiple devices in mind</p>
            <p>Each device has a priority - route to the most 'available'</p>
        </section>
        
        <section>
            
            <h1>Clients</h1>
            
            <h3 class="xmpp-orange">Thin clients, leave the work to the server</h3>
            <h3 class="xmpp-blue">Connect over TCP/BOSH (Long polling)/WebSockets</h3>
            <h3 class="xmpp-green">Data is pushed to clients, clients push data</h3>
        
        </section>
             
        <section>
            
            <h1>Servers</h1>
            
            <h3 class="xmpp-orange">Routes messages</h3>
            <h3 class="xmpp-blue">Allow users to talk across servers</h3>
            <h3 class="xmpp-green">Handles authentication and security</h3>
        
        </section> 
             
        <section>
            <h1>Components</h1>
            
            <h3 class="xmpp-orange">Provide extended functionality</h3>
            
            <h3 class="xmpp-blue">Can send messages on behalf of clients</h3>
            <h3 class="xmpp-green">Server + language agnostic</h3>
        
        </section> 
    
    </section>
    
    <section>
        
        <section>
            <h1>Building applications with XMPP</h1>
            <br/>
            <h3 class="xmpp-green">...<em>web-based</em> of course</h3>
        </section>
        
        <section>
            <h1>&lt;<span class="xmpp-green">X</span><span class="xmpp-blue">M</span><span class="xmpp-orange">HELL</span>/&gt;</h1>
        <aside class="notes">
        XML leaves a nasty taste for most web developers
        </aside>
        </section>
        
        <section>

            <h3>...in the last couple of years we've attempted to make XMPP more web-developer friendly</h3>

            <ul>
                <li><a href="https://xmpp-ftw.jit.su" class="xmpp-green">XMPP-FTW</a></li>
                <li><a href="https://github.com/legastero/stanza.io" class="xmpp-blue">Stanza.io</a></li>
                <li><a href="https://github.com/sstrigler/jsjac" class="xmpp-orange">JsJAC</a></li>
                <li><a href="https://github.com/jbinary/jslix" class="xmpp-green">jslix</a></li>
            </ul>
            <br/><br/>
            <h3>There's also <a href="http://strophe.im/strophejs/">Strophe.js</a> and <a href="http://node-xmpp.github.io/doc/nodexmppclient.html">node-xmpp-client</a></h3>
            
        </section>
        
        <section>
            <h1 class="xmpp-blue">XMPP-FTW</h1>
            
            <h2><span class="xmpp-orange">Powerful XMPP</span>, <span class="xmpp-green">simple JSON</span></h2>
            
            <h3>https://xmpp-ftw.jit.su/</h3>
        </section>
        
        <section>
            <ul>
            <li class="xmpp-green">Event-based system</li>
            <li class="xmpp-orange">Translates between XML and JSON</li>
            <li class="xmpp-blue">Written in nodejs</li>
            <li class="xmpp-orange">Attempts to make building XMPP</li>
            </ul>
        </section>
        
    </section>
    <section>
        <section>
            <h1>What can I build???</h1>
        </section>

        <section>
            <h1>You can build <span class="xmpp-orange">many</span> applications with <span class="xmpp-green">basic XMPP</span> functionality</h1>

            <aside class="notes">
            <p>Chat applications</p>
            <p>Just because chat means "words" to us, it doesn't mean your application can't pass 'data' in chat</p>
            <p>Video conferencing solutions</p>
            <p>Many applications are just publish subscribe, so we have that</p>
            </aside>
        </section>
    
        <section>
        
            <h1>Components</h1>
            
            <aside class="notes">
            <p>Add additional functionality that isn't part of standard XMPP</p>
            <p>You can choose to open this standard up, or keep to yourself</p>
            </aside>
        </section>
        
        <section>
            <h1><span class="xmpp-blue">XMPP</span> has <span class="xmpp-orange">many</span> <span class="xmpp-green">other advantages</span></h1>    
        </section>
                
        <section>
            <h3 class="xmpp-green">✓ 1-to-1 and multi-user chat</h3>
            <h3 class="xmpp-orange">✓ presence (online status)</h3>
            <h3 class="xmpp-blue">✓ roster (address book)</h3>
            <h3 class="xmpp-green">✓ publish subscribe</h3>
            <h3 class="xmpp-orange">✓ federation (multi-server communications)</h3>
            <h3 class="xmpp-blue">✓ security</h3>
            <h3 class="xmpp-green">✓ authentication</h3>
            <h3 class="xmpp-orange">✓ large, helpful community</h3>
            <h3 class="xmpp-blue">✓ well thought-out standards</h3>
        </section>
        
        <section>
            <h3>Here's some interoperable webrtc demo clients from different projects:</h3>
            
            <h2><a class="xmpp-green" href="http://legastero.github.io/jingle-interop-demos/">legastero.github.io/jingle-interop-demos/</a></h2>
            
        </section>
        
    </section>
    <section>
        <section>
        <h1>Summary</h1>
        
        <h3 class="xmpp-orange">XMPP is a powerful, proven, open, secure, standards-based protocol</h3><h4 class="xmpp-orange">...great match for decentralized applications</h4><br/>
        <h3 class="xmpp-blue">Lots of servers/clients/libraries<br/>
            (many open source)</h3><br/>
        <h3 class="xmpp-green">Great helpful community, who are actively helping to push the web forward:</h3>
        <h4 class="xmpp-green">XMPP security days, WebRTC signalling over XMPP, 
        New IoT extensions,<br/>Extensions to help accessibility</h4>
     </section>
        
        <section>
        
        <h1>Get started today</h1>
        
        <h3 class="xmpp-green">Install an XMPP server: <a href="http://proody.im">prosody</a></h3>
        <h3 class="xmpp-orange">npm i xmpp-ftw-demo</h3>
        <h3 class="xmpp-blue">node index<br/><br/>open <a href="http://localhost:3000/demo">http://localhost:3000/demo</a></h3>
        </section>
    </section>
        
    
    <section name="questions">
    
        <h1 class="fa icon-question"> Questions</h1>
        <br/>
        <h3>Slides available @ <a href="https://bit.ly/decentralize-xmpp">https://bit.ly/decentralize-xmpp</a></h3>
        <h3>Get an XMPP account quickly: <a href="https://hosting.buddycloud.com">hosting.buddycloud.com</a></h3>        
    </section>
        
</div>
