---
layout: slides
title: 'Introduction to XMPP'
description: 'Brief intro to XMPP @ XMPPUK, Shoreditch Village Hall, December 2013'
theme: moon
---

<div class="slides">
    <section name="title">
        <div>
        <img src="./images/220px-XMPP_logo.svg.png" /><br />
        </div>
        <h1>(Brief) Introduction to XMPP<br></h1>
    </section>
    
    <section name="who-am-i">
        <h2 class="icon-male fa"> Lloyd Watkin</h2>
        <p class="icon-briefcase fa"> Work for <a href="http://surevine.com">Surevine</a></p>
        <p class="icon-group fa"> Member of the <a href="http://xmpp.org" title="XMPP Standards Foundation">XSF</a></p>
        <p class="icon-envelope fa"> <span class="icon-comment-alt fa inline"></span> <a href="xmpp:lloyd@evilprofessor.co.uk">lloyd@evilprofessor.co.uk</a></p>
        <p class="icon-twitter fa"> <a href="https://twitter.com/lloydwatkin">@lloydwatkin</a></p>
        <p  class="icon-github fa"> <a href="https://github.com/lloydwatkin">lloydwatkin</a></p>
    </section>
    
    <section name="what-is-xmpp">
    
       <h1>What is XMPP?</h1>
       <br/>
       <p class="xmpp-orange">e<em>X</em>tensible <em>M</em>essaging and <em>P</em>resence <em>P</em>rotocol<br/>(aka Jabber)</p>

       <p class="xmpp-blue">Started around 1998</p>
       <p class="xmpp-green">Became part of IETF in 2002</p>
       <br/>
       <h3>Lets go on a journey from '<strong>P</strong>' back to '<strong>X</strong>'...</h3>
        
    </section>
    
    <section name="p-protocol">
    
        <section name="p-protocol-title">
            
            <h1>"P"</h1>
            
        </section>
        
        <section name="p-protocol-intro">
            
            <h1>Protocol</h1>
            <br/> 
            <h3 class="xmpp-orange">XMPP is a protocol</h3>
            <h3 class="xmpp-blue">Set of standards so systems can talk to each other</h3>
            <h3 class="xmpp-green">Used all over the web but often unadvertised</h3>
        
        </section>
        
        <section>
            
            <h1>XSF</h1>
            
            <h3 class="xmpp-orange">The protocol (or standards) are looked after by the XSF</h3>
            
            <h3 class="xmpp-blue">Extensions and changes are debated, discussed, + modified over before becoming standards</h3>
            
            <h3 class="xmpp-green">As a group we prefer "<strong>implementations</strong>"</h3>

        </section>

        
        <section>
            
            <h1>Server</h1>
            
            <h1>Client</h1>
            
            <h1>Component</h1>
            
        </section>

        <section>
            <h1>Architecture</h1>
            <img class="stretch" src="images/xmpp-architecture.png" />
        </section>
        
        <section>
            <h1>Server</h1>
            
            <h3 class="xmpp-orange">Handles connections<br/>(C2S, S2S, Component connections)</h3>
            <h3 class="xmpp-blue">Federaton</h3>
            <h3 class="xmpp-green">Authentication</h3>

        </section>
        
        <section>
            
            <h1>Clients</h1>
            
            <h3 class="xmpp-orange">Thin clients, leave the work to the server</h3>
            <h3 class="xmpp-blue">Connect over TCP/BOSH (Long polling)/WebSockets</h3>
            <h3 class="xmpp-green">Data is pushed to clients, clients push data</h3>
        
        </section>
        
        <section>
        
            <h1>Components</h1>
            
            <h3 class="xmpp-orange">Add features to XMPP server without modifying it</h3>
            <h3 class="xmpp-blue">Run as a subdomin, e.g. <em>component.example.org</em></h3>
            <h3 class="xmpp-green">Perform more advanced business logic in a component</h3>  
        
        </section>
        
    </section>
    
    <section name="p-presence">
    
        <section name="p-presence-title">
            <h1>"P" (again)</h1>
        </section>
        
        <section>
        
            <h1>Presence</h1>
            <br/>
            <h3 class="xmpp-orange">Determine the state of an XMPP entity</h3>
            <h3 class="xmpp-blue">Am I offline/online/busy ?</h3>
            <h3 class="xmpp-green">Tell the server I'm ready/done receiving messages</h3>
        </section>
        
        <section>
            <h2>Addressing another entity... the <abbr title="Jabber ID">JID</abbr></h2>
            <br/>
            <h3>[<span class="xmpp-orange">user</span>@] <span class="xmpp-blue">example.org</span> [/<span class="xmpp-green">mobile-phone</span>]</h3>
            <br/>
            
            <ul>
                <li><span class="xmpp-orange">local</span>: The user/device (i.e. client)</li>
                <li><span class="xmpp-blue">domain</span>: Server you are addressing</li>
                <li><span class="xmpp-green">resource</span>: Multiple connections?</li>
            </ul>
            
        </section>
        
        <section>
            <h2>Priorities / Features</h2>
            <br/>
            <h3>Give the server an idea of where you'd like data to go</h3>
            
            <h3>Send additional data with your presence</h3>
            
            <h4 class="xmpp-orange">What features your client supports</h4>
            <h4 class="xmpp-blue">A status message</h4>
            <h4 class="xmpp-green">Can be overloaded with additional data (not recommended, we have <abbr title="Personal Event Protocol">PEP</abbr>)</h4>
        
        </section>
        
        <section>
        <h1>Stanza</h1>
        <pre style="font-size: 1.1em">
&lt;presence to="surevine.com" 
 from="lloyd@surevine.com/laptop"&gt;
    &lt;show&gt;chat&lt;/show&gt;
    &lt;priority&gt;-1&lt;/priority&gt;
    &lt;status&gt;Giving a talk&lt;/status&gt;
&lt;/presence&gt;            
        </pre>        
        </section>
        
    </section>
    
    <section name="m">
    
        <section name="m-title">
            <h1>"M"</h1>
        </section>
        
        <section>
            <h1>Messaging</h1>
            <br/>
            <h3 class="xmpp-orange">Second of the three stanza types<br/>(other being &lt;iq/&gt;)</h3>
            <h3 class="xmpp-blue">Used to send messages between clients</h3>
            <h3 class="xmpp-green">Different types of chat messages + different payloads</h3>
            
        </section>
        
        <section>
        
            <h1>Stanza</h1>
            
            <pre style="font-size: 1.2em">
&lt;message type="chat"
 to="matthew@jabber.org/laptop"&gt;
    &lt;body&gt;Hello Matt&lt;/body&gt;
&lt;/message&gt;  
            </pre>
            
            <h4 class="xmpp-orange">Messages sent to bare JID are routed by server (remember the priority "-1"?)</h4>
            <h4 class="xmpp-blue">Messages sent to full JID go directly to that client</h4>
            <h4 class="xmpp-green">Different types, e.g. '<em>headline</em>' broadcast to all connected clients</h4>
        
        </section>
        
        <section>
        
            <h1>Stanza Extended</h1>
            <br/>
            <pre style="font-size: 1.2em">
&lt;message type="chat"
 to="logger.server.org"&gt;
    &lt;data xmlns="MY-FORMAT-NS"&gt;
    vgreg%G% B%$t54T%$gqfg4fgAEAE
    F$£T B£%$BYQAgregOK OKo ===
    &lt;/data&gt;
&lt;/message&gt;  
            </pre>
            
            <h4 class="xmpp-orange">Can perform discovery (DISCO) on receiver to see if they support required features</h4>
        
        </section>
        
    </section>
    
    <section name="x">
    
        <section name="x-title">
            <h1>"X"</h1>
        </section>
        
        <section>
            <h1>Extensibility</h1>
            
            
            <h3 class="xmpp-orange">XML-based</h3>
            <h3 class="xmpp-blue">Gives us extensibility</h3>
            <h3 class="xmpp-green">One of few systems which properly makes use of XMLNS</h3>
                        
        </section>
        
        <section>
            <h1>Ewww XML?!</h1>
            
            <h3>Don't panic!</h3>
            <h3>Big moves in the past 12 months to make XMPP more web-developer friendly</h3>

            <ul>
                <li><a href="https://xmpp-ftw.jit.su">XMPP-FTW</a></li>
                <li><a href="https://github.com/legastero/stanza.io">Stanza.io</a></li>
                <li><a href="https://github.com/sstrigler/jsjac">JsJAC</a></li>
            </ul>
        </section>
        
        <section>
            <h1>IQ</h1>
            
            <h3 class="xmpp-orange">Third type of stanza</h3>
            <h3 class="xmpp-blue">Equivalent to GET/POST in HTTP (GET/SET)</h3>
            <h3 class="xmpp-green">Always get a response (RESULT/ERROR)</h3>
            <pre style="font-size: 1.3em;">
&lt;iq type="get"
  to="logger.server.org"&gt;
    &lt;data xmlns="MY-FORMAT-NS"/&gt;
&lt;/iq&gt;
            </pre>
        </section>
        
        <section>
            <h1>Extensions</h1>
            
            <h3 class="xmpp-orange">In XMPP-land&trade; we call these <abbr title="XMPP Extension Protocol">XEP</abbr>s</h3>
            <h3 class="xmpp-blue">Over 300 in existence and more being added</h3>
            <h3 class="xmpp-green">Cover everything from including JSON payloads...<br/>to compressing payloads for <abbr title="Internet of things">IoT</abbr> usage</h3>
            <br/>
            <h4>Which in a few minutes leads us on to...</h4>
        </section>
        
    </section>
    
    <section>
        <h1>Summary</h1>
        
        <h3 class="xmpp-orange">XMPP is a powerful, proven, open, secure, standards-based protocol</h3>
        <h3 class="xmpp-blue">Lots of servers/clients/libraries<br/>
            (many open source)</h3>
        <h3 class="xmpp-green">Great helpful community, who are actively helping to push the web forward:</h3>
        <h4 class="xmpp-green">XMPP security days, WebRTC signalling over XMPP, 
        New IoT extensions,<br/>Extensions to help accessibility</h4>
    </section>
    
    <section>
        <h1>What next?</h1>
        
        <h3 class="xmpp-orange">Plenty of XMPP people in the room from server developers to client builders, deploying in all kinds of environments</h3>
        
        <h3 class="xmpp-blue">Visit <a href="http://xmpp.org">http://xmpp.org</a></h3>
        
        <h3 class="xmpp-green">Join the <a href="http://mail.jabber.org/pipermail/jdev">jdev mailing list</a> + <a href="xmpp:jdev@conference.jabber.org">chat rooms</a></h3>

    </section>
    
    <section name="questions">
    
        <h1 class="fa icon-question"©> Questions</h1>
        <br/>
        <h3>Slides available @ <a href="http://talks.evilprofessor.co.uk/intro-to-xmpp">http://talks.evilprofessor.co.uk/intro-to-xmpp</a></h3>
        <br/>           
        <h3>There's lots of XMPP people in the room so no rush!</h3>
        
    </section>
        
</div>
